<% content_for :c3 do %>
  &nbsp;
<% end %>
<% content_for :c1 do %>
  &nbsp;
<% end %>
<% content_for :message do %>
  <h2>Welcome to Hello Pulse. We are using technology to build a totally new experience in online dating. Please complete the info below to get access to the site. Donâ€™t be shy.</h2>
<% end %>

<div class="column_header">
  <span>
    <h2 id="step_header">Sign Up &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span id="signup_header_step1" style="font-size:16px;font-weight:bold">Step 1</span> &nbsp;>&nbsp; <span  id="signup_header_step2">Step 2</span>&nbsp;>&nbsp; <span  id="signup_header_step3">Step 3</span></h2>
  </span>
</div>

<div id="step_container">
  <div id="step_text" class="step_text">
    <div class="clearfix"></div>
    <div id="step_1_text" class = "step_desc" >
      <h3>Please choose a user name and enter your account information</h3>
    </div>
    <div id="step_2_text" class = "step_desc" style="display: none;">
      <h3>Nice job! We've sent you a confirmation email.
					But don't worry about that right now. Instead go ahead and fill out the info below. Don't forget to add a photo!</h3>
    </div>
    <div id="step_3_text" class = "step_desc" style="display: none;">
      <h3>Looking good. One last step. We need you to add some activities that you like to do or places you like to go. This helps us get a better understanding of the things you like and we can begin matching you with other people.</h3>
    </div>
  </div>
</div>
<div class="clear"></div>
<div id="step_1" class="step" style='display:block;'>
  <div class="step_1_container">
    <% form_for @user, :url => account_path do |f| %>
      <div>
        <div style='padding-top:5px;'>
          <label  class='sign_up_label'>First name</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'user[first_name]', @user.first_name || 'First name', :class => 'input_text' %>
        <span class="error"></span>
        <div style='padding-top:10px;'>
          <label class='sign_up_label'>Username</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'user[username]', @user.username || "Username", :class => 'input_text' %>
        <span class="error"></span>
      </div>
      <div><div style='padding-top:10px;'>
          <label  class='sign_up_label'>Password</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'password_holder', 'Password', :class => 'input_text' %>
        <%= f.password_field :password, :class => 'input_text', :style => 'display: none;' %>
        <span class="error"></span>
      </div>
      <div><div style='padding-top:10px;'>
          <label  class='sign_up_label'>Password confirmation</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'password_confirmation_holder', 'Password confirmation', :class => 'input_text' %>
        <%= f.password_field :password_confirmation, :class => 'input_text', :style => 'display: none;' %>
        <span class="error"></span>
      </div>
      <div><div style='padding-top:10px;'>
          <label  class='sign_up_label'>Email address</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'user[email]', @user.email || 'Email address', :class => 'input_text' %>
        <span class="error"></span>
      </div>
	<div style="clear:both;"> </div>
      <div style='padding-top:10px;'>
        <label  style="margin-top: 5px; color:#990000;">Date of Birth</label>
        <div style="clear:both;"> </div>
        <%= hidden_field_tag 'user[dob]' %>
        <span>
          <div class='fancy_select', style="width:40px; float:left">
          <%= hidden_field_tag 'day' %>
               <div class="fancy_select_target">
              Day
            </div>
            <div class="fancy_select_options" , style="width:40px">
            <% (1..31).each do|m|%>
                   <p><%=m%> <span class="hidden_value"><%= m %></span></p>
                   <% end %>
            </div>
          </div>
          <div class='fancy_select', style="width:86px; float:left">
          <%= hidden_field_tag 'month' %>
               <div class="fancy_select_target">
              Month
            </div>
            <div class="fancy_select_options", style="width:86px">
            <% i = 0 %>
            <% Date::MONTHNAMES.each do|m|%>

                   <p><%=m%> <span class="hidden_value"><%= i %></span></p>
                     <% i+=1 %>
                   <% end %>
            </div>
          </div>
          <div class='fancy_select' , style="width:50px; float:left">
          <%= hidden_field_tag 'year' %>
               <div class="fancy_select_target" >
              Year
            </div>
            <div class="fancy_select_options" , style="width:50px">
            <% (DateTime.now.year-18).downto(DateTime.now.year - 100) do|m|%>
                   <p><%=m%> <span class="hidden_value"><%= m %></span></p>
                   <% end %>
            </div>
          </div>
        </span>
		<span id='dob_error' class="error"></span>
      </div>
	<div style="clear:both;"> </div>
      <div><div style='padding-top:10px;'>
          <label  class='sign_up_label'>Post Code</label>&nbsp;&nbsp; <label  style="font-size:10px">We are currently only accepting UK postcodes but will be coming to your city soon</label>
        </div>
        <div class="clear"></div>
        <%= text_field_tag 'user[postcode]', @user.postcode || 'Post code', :class => 'input_text' %>
        <span class="error"></span>
      </div>
      <div>
        <%= submit_button 'Save', :height => "20px", :width => "70px", :style => "margin-top:10px" %>
      </div>
    <% end %>
  </div>
</div>
<div id="step_2" class="step" style="display: none;" >
  <div id="step_2_container">
    <div id="upload_container" style="display: none;">
      <% form_tag "/update", :multipart => true, :target => "image_upload", :id => "photo_upload" do%>
        <%= file_field(:user , :icon, :style => "position: absolute;")%>
      <% end %>
    </div>

    <div id="add_photo">Add photo</div>
    <% form_tag '/account/', :method => "put", :id => "details_update" do %>
      <div>
        <label  style="margin-top: 10px; color:#990000;">Description</label>
        <div id="description_panel">
          <%= text_area_tag 'user[description]', 'Give us a line that sums you up', :rows=>2, :cols=>45,:id => "user_description", :class => "word_count" %>
        </div>
      </div>
      <div style="clear:both;"> </div>
      <div style='padding-top:10px;'>
        <label  style="margin-top: 5px; color:#990000;">Your gender</label>
        <div class='fancy_select'>
          <%= hidden_field_tag 'user[sex]' %>
          <div class="fancy_select_target">Select a gender</div>
          <div class="fancy_select_options">
            <p>Male <span class="hidden_value"><%= User::Sex::MALE %></span></p>
            <p>Female <span class="hidden_value"><%= User::Sex::FEMALE %></span></p>
          </div>
        </div>
      </div>
      
      <div style="clear:both;"> </div>
      <div style='padding-top:10px;'>
        <label  style="margin-top: 5px; color:#990000;">Gender preference</label>
        <div class='fancy_select'>
          <%= hidden_field_tag 'user[sex_preference]' %>
          <div class="fancy_select_target" id='user_gender_preference_target'>Looking for</div>
          <div class="fancy_select_options">
            <p>Male <span class="hidden_value"><%= User::Sex::MALE %></span></p>
            <p>Female <span class="hidden_value"><%= User::Sex::FEMALE %></span></p>
            <p>Both <span class="hidden_value"><%= User::Sex::BOTH %></span></p>
          </div>
        </div>
      </div>
      <div style='padding-top:10px;'>
        <label  style="margin-top: 5px; color:#990000;">Age preference</label>
        <div class='fancy_select'>
          <%= hidden_field_tag 'user[age_preference]' %>
          <div class="fancy_select_target" id="user_age_preference_target">Around the age</div>
          <div class="fancy_select_options">
            <% age_options.each do |op| %>
              <p><%= op[0] %> <span class="hidden_value"><%= op[1] %></span></p>
            <% end %>
          </div>
        </div>
      </div>
      <div class="image_submit; padding-top:10px">
        <%= submit_button "Save info", :height => "20px", :width => "70px" %>
      </div>
    <% end %>
  </div>
</div>
<div id="step_3" class="step" style="display: none; ">
  <div id="step_3_container">
    <% form_tag('/account/activities', :id => "pa_select") do    %>
      <% user_place_activity = UserPlaceActivity.new %>
      <label  style="margin-top: 5px; color:#990000;">What do you enjoy doing?</label>
      <div class="clear"></div>
      <div style="float:left;">
        <%= render :partial => "shared/activity_select_signup", :locals => {:allow_any_activity => "1",:horizontal=>true} %>
      </div>
      </br>
      </br>
      <div class="clear"></div>
      <div style="float:left; margin-top:15px">
        <label  style="margin-top: 5px; color:#990000;">Where do you like doing it?</label>
        <div class="clear"></div>

        <%= hidden_field_tag 'place_id', ANYWHERE_PLACE_ID, :id => 'place_id' %>
        <%= text_field_tag :place_name,
          (user_place_activity.place.present? ? user_place_activity.place.name : nil),
          :class => "input_text", :disabled => user_place_activity.place.present?,
          :size => 50,
          "data-prefilled" => (user_place_activity.place.present? ? 'true' : 'false')
      %>
        <div class='clear'></div>
        <div style="margin-top:10px; float:left">
          <label  style="margin-top: 5px; color:#990000;">When do you do it?</label>
          <div class="clear"></div>
          <%= drop_down('user_place_activity[day_of_week]', '0', {:width => '130px',:id=>'day_of_week'},dotw_options, 'Any day',0) %>&nbsp;
          <div style="width:10px;float:left;">&nbsp;</div>
          <%= drop_down('user_place_activity[time_of_day]', '0', {:width => '200px',:id=>'time_of_day'},tod_options, 'Any time',0) %>


        </div>

        <div class="clear"></div>
        <div style="margin-top:10px; float:left; margin-top:15px">
          <label style="margin-top: 5px; color:#990000;">Why do you like this place?</label>
          <div class="clear"></div>
          <%= text_area_tag('user_place_activity[description]',USER_PLACE_DESCRIPTION_TEXT, :rows => 2, :cols=>60,:class => "input_text word_count") %>
        </div>

      </div>
      <div class="clear"></div>
      <%= text_field_tag "activity_error","",:style => "display:none; width:250px" %>
      <div class="clear"></div>
      <div class="image_submit" style="float:left">
        <div  style="float:left;">
          <%= submit_button ("Add activity") %>
        </div>

      </div>
      <div class="clear"></div>
      <div id="activities_container" style="float:left; margin-top:10px;">
        <div class="clear"></div>



        <div style="float:left;width:556px; margin-bottom:4px;">
          <h3 style="width:556px;font-size:14px" class="section_name">Your activities</h3>
        </div>
        <div class="clear">&nbsp;</div>


        <div style="padding:5px;margin-right:5px;width:155px;float:left;text-align:center;background-color:#EDEDED;">What</div>
        <div style="padding:5px;margin-right:5px;width:155px;float:left;text-align:center;background-color:#EDEDED;">Where</div>
        <div style="padding:5px;margin-right:5px;width:85px;float:left;text-align:center;background-color:#EDEDED;">When</div>
        <div style="padding:5px;margin-right:5px;width:93px;float:left;text-align:center;background-color:#EDEDED;">Who</div>

        <div id="user_place_activities" style="float:left; margin-top:5px">
          Please add some activities
        </div>
      </div>
      <div style="float:left;">
        <%= submit_button ("Finish", :id=> "finished") %>
      </div>
    <% end %>
  </div>
</div>



<script>
  $(document).ready(function() {
  $(function() {

			var zIndexNumber = 1000;
			$('div').each(function() {
				$(this).css('zIndex', zIndexNumber);
				zIndexNumber -= 10;
			});

	});
        });
</script>